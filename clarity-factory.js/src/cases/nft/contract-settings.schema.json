{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "title": "NFT Template Settings",
  "required": ["name"],
  "additionalProperties": false,
  "properties": {
    "$schema": { "type": "string" },
    "name": {
      "type": "string",
      "description": "Name of the NFT"
    },
    "contract-owner": {
      "type": "object",
      "title": "Contract owner",
      "description": "Stacks address allowed to perform changes to the NFT contracts settings",
      "required": ["value"],
      "additionalProperties": false,
      "properties": {
        "value": { "type": "string", "clarityType": "principal" },
        "updatable": { "type": "boolean" }
      }
    },
    "enable-stx-mint": { "type": "boolean", "default": true },
    "stx-price": {
      "type": "object",
      "title": "STX price",
      "description": "Mint price in STX.",
      "required": ["value"],
      "additionalProperties": false,
      "properties": {
        "value": { "type": "number", "clarityType": "uint" },
        "updatable": { "type": "boolean" }
      }
    },
    "enable-nyc-mint": { "type": "boolean", "default": false },
    "nyc-price": {
      "type": "object",
      "title": "NYC price",
      "description": "Mint price in NYC.",
      "required": ["value"],
      "additionalProperties": false,
      "properties": {
        "value": { "type": "number", "clarityType": "uint" },
        "updatable": { "type": "boolean" }
      }
    },
    "enable-mia-mint": { "type": "boolean", "default": false },
    "mia-price": {
      "type": "object",
      "title": "MIA price",
      "description": "Mint price in MIA.",
      "required": ["value"],
      "additionalProperties": false,
      "properties": {
        "value": { "type": "number", "clarityType": "uint" },
        "updatable": { "type": "boolean" }
      }
    },
    "mint-limit": {
      "type": "object",
      "title": "Mint limit",
      "description": "Mint limit per STX address. Leave empty to disable.",
      "required": ["value"],
      "additionalProperties": false,
      "properties": {
        "value": {
          "type": "number",
          "clarityType": "uint",
          "default": 10
        },
        "updatable": { "type": "boolean" }
      }
    },
    "allow-list": {
      "type": "object",
      "description": "Early bird access. Leave empty to disable this feature",
      "required": ["addresses"],
      "additionalProperties": false,
      "properties": {
        "addresses": {
          "type": "array",
          "description": "List of Stacks addresses",
          "items": {
            "type": "string"
          }
        },
        "allow-all-at-block-height": {
          "type": "object",
          "title": "Allow all at block height",
          "description": "Allow everyone to mint from this block height. Leave empty to disable mint for all",
          "required": ["value"],
          "additionalProperties": false,
          "properties": {
            "value": { "type": "number", "clarityType": "uint" },
            "updatable": { "type": "boolean" }
          }
        }
      }
    }
  },
  "allOf": [
    {
      "if": { "properties": { "enable-stx-mint": { "const": true } } },
      "then": { "required": ["stx-price"] }
    },
    {
      "if": { "properties": { "enable-nyc-mint": { "const": true } } },
      "then": { "required": ["nyc-price"] }
    },
    {
      "if": { "properties": { "enable-mia-mint": { "const": true } } },
      "then": { "required": ["mia-price"] }
    }
  ]
}
